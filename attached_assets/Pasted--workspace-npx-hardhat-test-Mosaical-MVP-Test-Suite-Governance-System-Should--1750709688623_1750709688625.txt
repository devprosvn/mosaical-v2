~/workspace$ npx hardhat test


  Mosaical MVP Test Suite
    Governance System
      ✔ Should create proposals
      ✔ Should handle voting process
    NFT Vault System
      ✔ Should deposit NFT and calculate correct LTV
      ✔ Should handle risk tier updates
      ✔ Should prevent unauthorized withdrawals
    Loan Manager System
      ✔ Should create loan with correct parameters
      ✔ Should calculate dynamic interest rates
      ✔ Should handle loan repayment correctly
    DPO Token System
      1) Should mint DPO tokens on loan creation
      2) Should handle DPO token trading
      ✔ Should distribute and claim interest
    Oracle System
      ✔ Should provide accurate NFT pricing
      ✔ Should track price history and volatility
      ✔ Should update game metrics
      Bridge System
        ✔ Should setup Saga chainlet mappings
        ✔ Should setup cross-chain mappings
        ✔ Should initiate NFT bridging to Saga chainlet
        ✔ Should initiate NFT bridging
      Security Tests
        ✔ Should prevent unauthorized access
        3) Should prevent borrowing without collateral
        ✔ Should prevent exceeding LTV limits
      Integration Tests
        ✔ Should validate devpros chainlet configuration
        4) Should complete full lending cycle


  19 passing (3s)
  4 failing

  1) Mosaical MVP Test Suite
       DPO Token System
         Should mint DPO tokens on loan creation:

      AssertionError: expected 0 to be above 0.
      + expected - actual


      at Context.<anonymous> (test/MosaicalMVP.test.js:281:32)

  2) Mosaical MVP Test Suite
       DPO Token System
         Should handle DPO token trading:

      AssertionError: expected 0 to be above 0.
      + expected - actual


      at Context.<anonymous> (test/MosaicalMVP.test.js:335:35)

  3) Mosaical MVP Test Suite
       Oracle System
         Security Tests
           Should prevent borrowing without collateral:
     AssertionError: Expected transaction to be reverted with reason 'Not your NFT', but it reverted with reason 'Insufficient funds'
      at Context.<anonymous> (test/MosaicalMVP.test.js:524:7)

  4) Mosaical MVP Test Suite
       Oracle System
         Integration Tests
           Should complete full lending cycle:

      AssertionError: expected 0 to be above 0.
      + expected - actual


      at Context.<anonymous> (test/MosaicalMVP.test.js:594:32)