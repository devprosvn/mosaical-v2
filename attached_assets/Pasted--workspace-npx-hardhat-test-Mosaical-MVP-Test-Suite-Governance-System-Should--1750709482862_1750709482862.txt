~/workspace$ npx hardhat test


  Mosaical MVP Test Suite
    Governance System
      ✔ Should create proposals
      ✔ Should handle voting process
    NFT Vault System
      ✔ Should deposit NFT and calculate correct LTV
      ✔ Should handle risk tier updates
      ✔ Should prevent unauthorized withdrawals
    Loan Manager System
      1) Should create loan with correct parameters
      2) Should calculate dynamic interest rates
      3) Should handle loan repayment correctly
    DPO Token System
      4) Should mint DPO tokens on loan creation
      5) Should handle DPO token trading
      6) Should distribute and claim interest
    Oracle System
      ✔ Should provide accurate NFT pricing
      ✔ Should track price history and volatility
      ✔ Should update game metrics
      Bridge System
        7) Should setup Saga chainlet mappings
        8) Should setup cross-chain mappings
        9) Should initiate NFT bridging to Saga chainlet
        10) Should initiate NFT bridging
      Security Tests
        ✔ Should prevent unauthorized access
        11) Should prevent borrowing without collateral
        12) Should prevent exceeding LTV limits
      Integration Tests
        13) Should validate devpros chainlet configuration
        14) Should complete full lending cycle


  9 passing (4s)
  14 failing

  1) Mosaical MVP Test Suite
       Loan Manager System
         Should create loan with correct parameters:
     ReferenceError: loanManager is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:168:19)

  2) Mosaical MVP Test Suite
       Loan Manager System
         Should calculate dynamic interest rates:
     ReferenceError: loanManager is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:189:7)
      at processImmediate (node:internal/timers:483:21)

  3) Mosaical MVP Test Suite
       Loan Manager System
         Should handle loan repayment correctly:
     ReferenceError: loanManager is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:211:19)

  4) Mosaical MVP Test Suite
       DPO Token System
         Should mint DPO tokens on loan creation:
     ReferenceError: loanManager is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:254:19)

  5) Mosaical MVP Test Suite
       DPO Token System
         Should handle DPO token trading:
     ReferenceError: loanManager is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:283:19)

  6) Mosaical MVP Test Suite
       DPO Token System
         Should distribute and claim interest:
     ReferenceError: loanManager is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:334:19)

  7) Mosaical MVP Test Suite
       Oracle System
         Bridge System
           Should setup Saga chainlet mappings:
     ReferenceError: bridge is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:421:7)
      at processImmediate (node:internal/timers:483:21)

  8) Mosaical MVP Test Suite
       Oracle System
         Bridge System
           Should setup cross-chain mappings:
     ReferenceError: bridge is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:439:7)
      at processImmediate (node:internal/timers:483:21)

  9) Mosaical MVP Test Suite
       Oracle System
         Bridge System
           Should initiate NFT bridging to Saga chainlet:
     ReferenceError: bridge is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:455:53)

  10) Mosaical MVP Test Suite
       Oracle System
         Bridge System
           Should initiate NFT bridging:
     ReferenceError: bridge is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:479:53)

  11) Mosaical MVP Test Suite
       Oracle System
         Security Tests
           Should prevent borrowing without collateral:
     ReferenceError: loanManager is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:515:9)
      at processImmediate (node:internal/timers:483:21)

  12) Mosaical MVP Test Suite
       Oracle System
         Security Tests
           Should prevent exceeding LTV limits:
     ReferenceError: loanManager is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:528:19)

  13) Mosaical MVP Test Suite
       Oracle System
         Integration Tests
           Should validate devpros chainlet configuration:
     ReferenceError: bridge is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:555:7)

  14) Mosaical MVP Test Suite
       Oracle System
         Integration Tests
           Should complete full lending cycle:
     ReferenceError: loanManager is not defined
      at Context.<anonymous> (test/MosaicalMVP.test.js:566:19)